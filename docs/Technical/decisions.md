# Архитектурные решения Arduino RoboLab MVP

1. **Формат определения блоков** — хранится в `data/blocks/blocks.json` и валидируется схемой
   `data/blocks/blocks.schema.json`. Для каждого блока задаются шаблоны вставок по секциям, список
   параметров и описание контейнеров. Это позволяет расширять редактор без изменения кода.
2. **Генерация кода** — модуль `app/core/generator/codegen.py` формирует секции скетча (includes, globals,
   setup, loop, functions) и строит маппинг блок→строка для последующей подсветки ошибок компиляции.
3. **Прошивка** — `app/core/firmware/flasher.py` не вызывает внешние утилиты напрямую, а описывает команды и
   возвращает статус выполнения, что упрощает тестирование (команды можно замокать).
4. **Валидация** — `app/core/validator/validator.py` проверяет совместимость блоков с профилем платы из
   `data/boards.json` (тип пинов, наличие секций) и выдаёт человекочитаемые ошибки.
